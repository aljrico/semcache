% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get.R
\name{sc_get}
\alias{sc_get}
\title{Retrieve an Entry from the Cache}
\usage{
sc_get(
  cache,
  request,
  mode = c("both", "exact", "semantic"),
  embedding = NULL,
  k = 1L,
  prefilter_k = 50L,
  threshold = 0.92,
  allow_stale = FALSE,
  strict = cache$config$strict
)
}
\arguments{
\item{cache}{A \code{semcache} object from \code{\link[=sc_open]{sc_open()}}.}

\item{request}{A list or character string describing the LLM request.}

\item{mode}{One of \code{"exact"}, \code{"semantic"}, or \code{"both"} (default).}

\item{embedding}{Numeric vector for semantic search. Required if
\code{mode} includes \code{"semantic"}.}

\item{k}{Maximum number of semantic candidates to return.}

\item{prefilter_k}{Number of ANN candidates to retrieve before filtering.}

\item{threshold}{Minimum cosine similarity for a semantic hit (default
0.92).}

\item{allow_stale}{If \code{FALSE} (default), expired entries are skipped.}

\item{strict}{If \code{TRUE}, semantic reuse requires matching model,
tool_schema_hash, version, and temperature bucket. Defaults to the cache
setting.}
}
\value{
A list with components:
\describe{
\item{hit}{Logical: was a cache entry found?}
\item{mode}{\code{"exact"}, \code{"semantic"}, or \code{NA} if miss}
\item{id}{Entry ID (or \code{NA})}
\item{score}{Similarity score for semantic hits (\code{NA} for exact)}
\item{entry}{The cached entry list, or \code{NULL}}
\item{candidates}{Data frame of semantic candidates (or \code{NULL})}
}
}
\description{
Looks up a cached response by exact hash match or semantic similarity.
}
\examples{
\donttest{
cache <- sc_open(tempfile("semcache_"), semantic = "off")
sc_put(cache, "What is 2+2?", "4")
result <- sc_get(cache, "What is 2+2?", mode = "exact")
result$hit
}
}
